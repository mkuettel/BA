% !TEX root = BA-Bericht.tex
\chapter{Stand der Technik}\label{ch:StandDerTechnik}
% Auch "Stand der Forschung" oder "Stand der Praxis"

% Bezogen auf die eigenen Zielsetzungen und Fragestellungen soll aufgezeigt werden, wie andere
% dieses oder ähnliche Probleme gelöst haben. Worauf können Sie aufbauen, was müssen Sie neu
% angehen? Wodurch unterscheidet sich Ihre Lösung von anderen Lösungen? Für wissenschaftlich
% orientierte Arbeiten sei hier explizit auf (Balzert, S. 66 ff) verwiesen.


% TODO Historie des betroffenen Feld


\section{Technologische Grundlagen}
% TODO Wichtige technologischen Grundlagen / Wissenswertes

\subsection{Anonymisierungs-Netzwerke}

Es gibt eine vielzahl an verschiedenen Anonymisierungsnetzwerken, wobei \glstext{tor} (\glsname{tor}) wahrscheinlich das bekannteste davon ist.

In dieser Arbeit wird aber lediglich das Anonymisierungsnetzwerk \glsname{i2p} behandelt und nicht weiter auf andere Anonymisierungsnetzwerke eingegangen, da dieses das Netzwerklayer von diva.exchange darstellt.

\subsection{Anonymität, Privatsphäre und Datenschutz}

 Anonymität und Privatsphäre ist nicht das gleiche.
 Jedoch kann durch Anonymität die Privatsphäre geschützt werden.


 Auch ist Anonymität wichtig für Whistle-Blower und für Leute die unter totalitären Regimen.

\subsection{Das Anonymitätstrilemma}\label{sec:anonymitytrilemma}

Beim Design eines anonymen Kommunikationsprotokoll gibt es grundsätzliche Einschränkungen. Es gilt die folgenden drei Aspekte abzuwägen :

\begin{itemize}
    \item Der Anonymitätsgrad von Sender und Empfänger einer Nachricht
    \item Die benötigte Netzwerkbandbreite
    \item Die Latenzzeiten der Nachrichten
\end{itemize}


Dabei ist es nicht möglich ein Protokoll zu designen, welches einen hohen Anonymitätsgrad bietet, wenig Netzwerkbandbreite benötigt und tiefe Latenzzeiten vorweist.
Die Anonymität geht also immer auf Kosten von höherer Latenzzeiten und/oder mehr benötigter Netzwerkbandbreite (siehe auch Abbildung~\fullref{fig:anonimitytrilemma}).

\begin{figure}[H]
    \centering
    \begin{tikzpicture}
      \draw (0,0) node[anchor=north]{hoher Anonymitätsgrad}
        -- (4,0) node[anchor=north]{tiefe Latenzzeiten}
        -- (2,4) node[anchor=south]{wenig Netzwerkbandbreite}
        -- cycle;
    \end{tikzpicture}
    \caption{Das Anonymitätstrilemma}\label{fig:anonimitytrilemma}
\end{figure}

Ein Anonymisierungsnetzwerk kann beispielsweise auf Kosten der Netzwerkbandbreite implementiert werden, indem Nachrichten einfach an alle im Netzwerk versendet werden. Somit könnte mindestens der Empfänger verschleiert werden.
Umgekehrt könnte ein Anonymisierungsnetzwerk auf Kosten der Latenz implementiert werden. Wenn Nachrichten über mehrere Netzwerkknoten geleitet werden, könnte man Empfänger und Sender verschleiern, aber hätte höhere Latenzzeiten da dieselbe Nachricht mehrmals nacheinander von verschiedenen Netzwerkknoten bearbeitet werden muss.
Letzteres gibt es Netzwerke bei welchen Anonymität keine Rolle spielt, wie beispielsweise beim üblichen UDP Protokoll. Es ist dann möglich hohe Bandbreite sowie niedrige Latenzzeiten zu erreichen.

Es gilt abzuwägen, welche der Aspekte für das zu designende Protokoll wichtig sind und wo ein Schwerpunkt gelegt wird und welche Aspekte somit auch vernachlässigt werden, um einen guten Kompromiss zu finden. \parencite{das_anonymity_2018}

\subsection{\glstext{i2p} (\glsname{i2p})}

Kurz gesagt ist \glstext{i2p} (\glsname{i2p}) ein dezentrales Mischnetzwerk mit niedriger Latenz indem verschlüsselte Nachrichten ausgetauscht werden können.
\parencite{zantout_i2p_2011}
Es handelt sich hier um ein eigenständiges Overlay-Netzwerk, welches auf den darunterliegenden Protokollen UDP und TCP aufbaut.  \parencite{de_boer_invisible_2019,astolfi_i2p_2015}.

Mit einem Mischnetzwerk ist gemeint, dass Nachrichten an durch Knoten des Netzwerks weitergeleitet werden, um den Sender und den Empfänger einer Nachricht zu verschleiern. Dieser Mischvorgang wird bei I2P Garlic-Routing genannt.
\parencite[S.~1]{zantout_i2p_2011}.

Auch gilt es zu unterstreichen, dass \textit{Nachrichten} ausgetauscht werden.
I2P ist \textit{Nachrichtenbasiert} und verhält sich in diesem Sinne ähnlich wie UDP.
Es gibt dementsprechend keine Garantien, dass wenn eine Nachricht versendet wird, dass die Daten in der richtigen Reihenfolge, komplett oder überhaupt ankommen.
Es gibt jedoch Erweiterungen auf dem Netzwerk, welche diese Garantien (ähnlich wie sie diese bei TCP gibt) wieder herstellen können.
Zudem bietet I2P eine Ende-zu-Ende-Verschlüsselung für die Nachrichten. Die Nachrichten sind also vom Sender bis zum Empfänger verschlüsselt.

Während das TOR-Netzwerk ursprünglich entwickelt wurde auf das öffentliche Internet via Out-Proxies zuzugreifen,
liegt bei I2P der Fokus darin anonym auf Dienste, die innerhalb des Netzwerks angeboten werden, zuzugreifen.
Jedoch besteht bei TOR ebenfalls die Möglichkeit Netzwerkinterne Dienste anzubieten mittels TOR Hidden Services, auch aber gibt es bei I2P die Möglichkeit, mit Hilfe von sogenannten Outproxies, auf das normale Internet zuzugreifen.

Dienste die innerhalb des Netzwerks angeboten werden, sind zum Beispiel Bit-Torrent für File-Sharing, Webseiten (sogenannte ``eepsites''), oder auch Chat-Dienste wie IRC (Internet Relay Chat).
\parencite[p.~3-4]{de_boer_invisible_2019}

\cite{astolfi_i2p_2015}

\cite{timpanaro_birds_2012}

\cite{timpanaro_evaluation_2015}

A scaleable framework for anonymous communication
\cite{noauthor_i2p_nodate-8}


\cite{hoang_measuring_2019}
\cite{hoang_empirical_2018}

\cite{de_boer_invisible_2019}

\cite{zantout_i2p_2011}

Latency vs Tor Usability Bandwith and Latency Comparision
\cite{ehlert_i2p_2021}

\subsection{Wie I2P funktioniert}

\begin{itemize}
    \item Jeder Knoten leitet auch traffic für das Netzwerk weiter
    \item Jeder Knoten kann die länge 
\end{itemize}

\section{Technische Konzepte}
\label{sec:technischeKonzepte}
% TODO Konzepte in diesem Feld welche für den Leser relevant sind

\subsection{Tunnels}

Jeder I2P-Router kann eine beliebige Anzahl Inbound- und Outbound Tunnels erstellen.
Wobei die Inbound Tunnels zum Empfang und die Outbound-Tunnels zum Versand dienen.

%TODO: inbound outbound nicht verwechseln

Jedes Tunnel hat eine Länge.
Diese gibt an durch wie viele Knoten eine Nachricht, die durch das Tunnel verschickt wird, geroutet wird.
Für jeden Hop im Tunnel wird die Nachricht eine zusätzliche Verschlüsselungsschicht eingehüllt. (vgl. Onion Routing)
Somit wissen die Router jeweils nur Bescheid von welchem anderen Router sie eine Nachricht erhalten haben und an welchen Router die Nachricht weitergeleitet werden soll.
Ein Roter im Tunnel weiss also schlussendlich nie von wem an wen eine Nachricht verschickt wurde.

Die Länge eines Tunnels kann auch \lstinline|0| betragen.
In diesem Fall wird eine Nachricht die durch das Tunnel verschickt wird, durch keine weitere Knoten geroutet.

Hierbei kann jeder Knoten selber festlegen wie lange diese Tunnels sind.

Je Länger ein Tunnel ist, desto mehr Anonymität bietet dieser.
Jedoch geht dies auf Kosten der Latenz aufgrund der zusätzlichen Hops.

Tunnels Configuration
\cite{noauthor_i2p_nodate-3}

\begin{itemize}
    \item Jeder Knoten kann die länge seiner Tunnel selber bestimmen. (Standardwert 3)
    \item Mehrere Verschlüsslungslayer je nach Tunnellänge (vgl. Onion-Routing)
\end{itemize}

\subsection{Garlic-Routing}

Im Gegensatz zum \glsname{tor}-Netzwerk setzt

\begin{itemize}
    \item
\end{itemize}

\subsection{NetDB}

\subsection{Reseeding}

Seeding etc.

Reseed Access
\cite{noauthor_i2p_nodate-7}


\section{Technische Konzepte}
\label{sec:technischeKonzepte}
% TODO Konzepte in diesem Feld welche für den Leser relevant sind

\subsection{Das Anonymitätstrilemma}\label{sec:anonymitytrilemma}

Beim Design eines anonymen Kommunikationsprotokoll gibt es gründsätzliche Einschränkungen. Es gilt die folgenden drei Aspekte abzuwägen:

\begin{itemize}
    \item Hoher Anonymiätsgrad von Sender und Empfänger einer Nachricht
    \item Tiefer Netzwerkbandbreiten Overhead
    \item Tiefer Latenz Overhead
\end{itemize}

Dabei ist es nicht möglich ein Protokoll zu designen welches alle diese drei Aspekte komplett erfüllt.
Es muss entschieden werden, welche zwei Aspekte wichtiger sind (siehe auch die Abbildung~\fullref{fig:anonimitytrilemma}). \parencite{das_anonymity_2018}

\begin{figure*}[h]
    \begin{tikzpicture}
      \draw (0,0) node[anchor=north]{hohe Anonymität}
        -- (4,0) node[anchor=north]{tiefe Latenz}
        -- (2,4) node[anchor=south]{wenig Bandbreite}
        -- cycle;
    \end{tikzpicture}
    \caption{Das Anonymitätstrilemma}\label{fig:anonimitytrilemma}
\end{figure*}

Zum Beispiel wenn ein hoher Anonymitätsgrad erwünscht ist, kann dies nur erreicht werden mit entweder mehr Netzwerkbandbreiten-Overhead oder mehr Latenz-Overhead.


\section{Stand im Bezug auf eigenes Projekt}
% TODO Welche Forschung wurde in jüngster Zeit gemacht welche relevant für das eigene Projekt sind

Usability Inspection of Anonmity Networks
(\cite{abou-tair_usability_2009})

Usability Tetsts

(\cite{schomburg_anonymity_2009})

Evaluation of Anonymity Networks
(\cite{timpanaro_evaluation_2015})

\subsection{Performance}


Performance improvement using SSL IN I2P
\cite{vashi_performance_2015}

Performance I2P Webseite
\cite{noauthor_performance_nodate}

Performance History I2P Webseite
\cite{noauthor_performance_nodate-1}

Auf der Webseite von I2P auf der Seite ''Future Performance Improvements'' sind zudem zukünftige Performance Verbesserungsmöglichkeiten aufgelistet.
\cite{noauthor_future_nodate}
On I2P's website the page 

Improving I2P (2012)
\cite{timpanaro_improving_2012}


\subsection{I2P-Testnetzwerke}

\subsection{Metriken zur Messung}

Towards Measuring on the I2P Netzwork
\cite{wang_towards_2013}

\begin{itemize}
    \item Latenzmessung (abschicken/empfangen (Laport-Zeitstempel im schlimmsten fall))
    \item Messung der Bandbreite (ab welchem Layer)
    \item Ressourcenauslastung
\end{itemize}

\cite{timpanaro_monitoring_nodate}

\subsection{Testen im öffentlichen I2P Netzwerk}

\begin{itemize}
    \item family tag \cite{noauthor_family_nodate}
    \item verfälscht resultate
    \item deshalb isolieren
    \item öffentliche Metriken  I2P Metrics: \cite{noauthor_i2p_nodate-4}
    \item Netzwerk ist klein (deshalb braucht es so ein beweis wie hier)
\end{itemize}
